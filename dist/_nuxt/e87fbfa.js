(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{570:function(t,e,r){"use strict";r.r(e);r(8),r(9),r(6),r(68),r(11),r(12),r(10),r(7);var n=r(2),o=(r(69),r(17)),c=r(42);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var d={layout:"admin",head:function(){return{title:"Current Request"}},data:function(){return{isLoading:!0,dialog:!1,geocoder:"",requests:[],address:"",tableHeaders:[{text:"Emergency Level",value:"emergency_level"},{text:"Patient Name",align:"left",value:"user_id"},{text:"Address",value:"address",sortable:!1},{text:"Postal Code",value:"postal_code",sortable:!1},{text:"City",value:"city"},{text:"Emergency Description",value:"emergency_description",sortable:!1},{text:"Select",value:"actions",align:"center",sortable:!1}],i:{mdiCheckboxBlankOutline:c.c},filters:{search:""}}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r={emergency_level:1,user_id:123212,address:"123 Runway Dr",postal_code:23102,city:"City",country:"Country",emergency_description:"This is a test"},t.requests.push(r),console.log(t.requests)}catch(t){console.log("Couldn't fetch data")}t.isLoading=!1;case 2:case"end":return e.stop()}}),e)})))()},computed:{google:r(211).gmapApi,formattedRequests:function(){return this.requests.map((function(t){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},t)}))}},methods:{toggleSelected:function(t){console.log(t+" is finished.")}}},v=r(30),_=r(92),m=r.n(_),f=r(124),y=r(198),h=r(158),w=r(458),O=r(564),k=r(557),x=r(439),C=r(196),j=r(194),P=r(453),component=Object(v.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-container",[r("h1",{staticClass:"text-center"},[t._v("Current Request")]),t._v(" "),r("v-divider"),t._v(" "),r("div",{staticClass:"text-center ma-12"},[t.isLoading?r("v-progress-circular",{attrs:{size:200,color:"primary",indeterminate:""}}):t._e(),t._v(" "),r("p",[t._v("Your current active request is displayed below. Click on the square icon on the right when you are done with it or need to cancel it.")])],1)],1),t._v(" "),r("v-container",[t.requests.length>0?r("div"):t._e(),t._v(" "),0!==t.requests.length||t.isLoading?t._e():r("h4",[t._v("No Active Request")]),t._v(" "),r("v-card",{attrs:{outlined:""}},[r("client-only",[r("v-data-table",{attrs:{headers:t.tableHeaders,items:t.formattedRequests,search:t.filters.search,"items-per-page":40},scopedSlots:t._u([{key:"item.emergency_level",fn:function(e){var r=e.item;return[t._v("\n                        "+t._s(r.emergency_level?r.emergency_level:"Not specified")+"\n\t\t\t\t\t")]}},{key:"item.user_id",fn:function(e){var r=e.item;return[t._v("\n\t\t\t\t\t\t"+t._s(r.user_id)+"\n\t\t\t\t\t")]}},{key:"item.address",fn:function(e){var r=e.item;return[t._v("\n\t\t\t\t\t\t"+t._s(r.address)+"\n\t\t\t\t\t")]}},{key:"item.postal_code",fn:function(e){var r=e.item;return[t._v("\n\t\t\t\t\t\t"+t._s(r.postal_code)+"\n\t\t\t\t\t")]}},{key:"item.city",fn:function(e){var r=e.item;return[t._v("\n\t\t\t\t\t\t"+t._s(r.city)+", "+t._s(r.country)+"\n\t\t\t\t\t")]}},{key:"item.emergency_description",fn:function(e){var r=e.item;return[t._v("\n\t\t\t\t\t\t"+t._s(r.emergency_description)+"\n\t\t\t\t\t")]}},{key:"item.actions",fn:function(e){var n=e.item;return[r("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[r("v-btn",t._g(t._b({attrs:{color:"primary",icon:"",xSmall:""}},"v-btn",o,!1),n),[r("v-icon",[t._v(t._s(t.i.mdiCheckboxBlankOutline))])],1)]}}],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),r("v-card",[r("v-card-title",{staticClass:"headline white--text primary"},[t._v(" Are you done with this emergency?")]),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.toggleSelected(n.user_id)}}},[t._v(" Yes ")]),t._v(" "),r("v-btn",{attrs:{text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" No ")]),t._v(" "),r("v-btn",{attrs:{text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Release ")])],1)],1)],1)]}}],null,!0)})],1)],1),t._v(" "),r("p",[t._v(" Add Maps Directions with : https://medium.com/@glavecoding/google-map-api-in-vue-js-925c7052a9b6 ")])],1)],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VBtn:f.a,VCard:y.a,VCardActions:h.a,VCardTitle:h.c,VContainer:w.a,VDataTable:O.a,VDialog:k.a,VDivider:x.a,VIcon:C.a,VProgressCircular:j.a,VSpacer:P.a})}}]);